<!DOCTYPE html>
<html>

<head>
    <!-- big fan of this framework, not a lot of moving parts -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
        function submitForm() {
            // first reveal the loading box, THEN submit the form.
            document.getElementById("loading-box").style = "";
            document.getElementById("proof-form").submit();
        }

        var custom = ``;
        var every_elem_ge_zero = `Theorem every_elem_ge_zero: forall (n:nat), 0 <= n.
Proof.
Admitted.`;
        var zero_eq_five_proves_false = `Theorem zero_eq_five_proves_false: (0 = 5) -> False.
Proof.
Admitted.`;
        var appending_empty_list_id = `Require Import List.
Import ListNotations.

Theorem app_nil_r: forall {A: Type} (l: list A), l ++ [] = l.
Proof.
Admitted.`;

        var every_elem_le_max = `Require Import List.
Import ListNotations.
Require Import Lia.

Definition max_elem_list (l: list nat) : nat := fold_right max 0 l.

Theorem every_elem_le_max : forall (l: list nat) (n: nat), (In n l) -> (n <= (max_elem_list l)).
Proof.
Admitted.`;

        var list_forall2_app = `Require Export List.
Variable A: Type.
Variable B: Type.
Variable P: A -> B -> Prop.

Inductive list_forall2: list A -> list B -> Prop :=
  | list_forall2_nil:
      list_forall2 nil nil
  | list_forall2_cons:
      forall a1 al b1 bl,
      P a1 b1 ->
      list_forall2 al bl ->
      list_forall2 (a1 :: al) (b1 :: bl).

Theorem list_forall2_app:
  forall a2 b2 a1 b1,
  list_forall2 a1 b1 -> list_forall2 a2 b2 ->
  list_forall2 (a1 ++ a2) (b1 ++ b2).
Proof.
Admitted.`;

        var list_forall2_app_with_hint = `Require Export List.
Variable A: Type.
Variable B: Type.
Variable P: A -> B -> Prop.

Inductive list_forall2: list A -> list B -> Prop :=
  | list_forall2_nil:
      list_forall2 nil nil
  | list_forall2_cons:
      forall a1 al b1 bl,
      P a1 b1 ->
      list_forall2 al bl ->
      list_forall2 (a1 :: al) (b1 :: bl).

Theorem list_forall2_app:
  forall a2 b2 a1 b1,
  list_forall2 a1 b1 -> list_forall2 a2 b2 ->
  list_forall2 (a1 ++ a2) (b1 ++ b2).
Proof.
induction 1.
Admitted.`;

        function setInput(select){
            var textarea = document.getElementsByName("theorem_lemma")[0];
            textarea.value = window[select.options[select.selectedIndex].value];
        }
    </script>
    <style>
        footer.footer {
            padding: 0;
            background-color: #ffffff;
        }
    </style>


</head>

<body>
    
    <div class="container">

        <div class="columns">
            <div class="column is-2">
            </div>
            <div class="column is-8">
		{% include 'title.html' %}

                <div>
                    <label class="label">Enter a Coq theorem to prove, or select an example from the pull down menu</label>
                </div>

                <select name="input_template" id="input_template" onchange="setInput(this);">
                    <option selected value=custom>Enter your own theorem</option>
                    <option value=every_elem_ge_zero>every_elem_ge_zero</option>
                    <option value=zero_eq_five_proves_false>zero_eq_five_proves_false</option>
                    <option value=appending_empty_list_id>appending_empty_list_id</option>
                    <option value=every_elem_le_max>every_elem_le_max</option>
                    <option value=list_forall2_app>list_forall2_app</option>
                    <option value=list_forall2_app_with_hint>list_forall2_app_with_hint</option>
                </select><br />
                <div class="box">
                    <div class="content">
                        <form method="POST" id="proof-form">

                            <div class="field">
                                
                                <textarea {
                                    font-family:Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New, monospace;
                                  } id="theorem_lemma" name="theorem_lemma" class="textarea is-primary" cols="60"
                                    rows="10">{{theorem_lemma}}</textarea>
                            </div>

                            <label {font-weight: normal;}>Following the theorem statement, start the proof with “Proof.” and “Admitted.”</label>
                            <br>
                            <label>Proofster will attempt to replace “Admitted.” with a Coq proof.</label>
                            <br><br>
                            <div class="field" style="text-align:center;"><button type="button" class="button"
                                    onclick="submitForm()">Proofster it!</button> </div>
                        </form>
                        <br>
                        {% if err_msg is defined %}
                        <div class="notification is-danger">
                            {{err_msg}}
                        </div>
                        {% endif %}

                    </div>
                </div>

                <div class="message is-info" style="visibility: hidden;" id="loading-box">
                    <div class="message-header">
                        ProoFster is working...
                    </div>
                    <div class="message-body">
                        <progress class="progress is-large is-primary"></progress>
                    </div>
                </div>
            </div>
            <div class="column is-2">
            </div>
        </div>
    </div>

    {% include 'footer.html' %}

</body>

</html>
